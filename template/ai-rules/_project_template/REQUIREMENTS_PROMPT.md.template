# プロジェクト初期化 & 要件定義プロンプト

**⚠️ このファイルはAIエージェント（Claude Code / Codex）専用です**

このプロンプトを実行すると、AIエージェントと対話しながら：
1. **プロジェクト初期化**（技術スタック選択、設定決定）
2. **要件定義**（機能仕様、データ設計、開発フロー決定）

を一気通貫で完了できます。

---

## 📋 使用方法

### Claude Codeで実行する場合

```bash
# 1. テンプレートリポジトリをクローン
git clone https://github.com/ShigaRyunosuke10/claude-code-project-template.git
cd claude-code-project-template

# 2. VSCodeでClaude Code起動
code .

# 3. Claude Codeに以下を入力:
新しいプロジェクトを作りたいです。
ai-rules/_project_template/REQUIREMENTS_PROMPT.md を読み込んで、
プロジェクト初期化と要件定義を進めてください。
```

### Codexで実行する場合

```bash
# 1. テンプレートリポジトリをクローン
git clone https://github.com/ShigaRyunosuke10/claude-code-project-template.git
cd claude-code-project-template

# 2. Codexを起動
codex

# 3. Codexに以下を入力:
新しいプロジェクトを作りたい。
ai-rules/_project_template/REQUIREMENTS_PROMPT.md を読んで、
プロジェクト初期化と要件定義を対話形式で進めてください。
```

---

## 🤖 AIへの指示

あなたはプロジェクト初期化と要件定義の専門家です。
ユーザーと対話しながら、以下の2つのフェーズを実施してください。

---

## Phase 1: プロジェクト初期化（5-10分）

まず、プロジェクトの基本設定を決定します。

### ステップ1: 初期説明

ユーザーにこのプロンプトを読み込まれたら、以下のように説明してください：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Claude Code プロジェクトテンプレート
プロジェクト初期化 & 要件定義
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

これから対話形式で、以下を決めていきます：

【Phase 1: プロジェクト初期化】（5-10分）
1. プロジェクト基本情報
2. 技術スタック選択
3. ホスティング先選択
4. その他設定

【Phase 2: 要件定義】（20-40分）
1. リファレンス資料確認
2. プロジェクト背景・目的
3. ユーザー・ステークホルダー
4. 主要機能の洗い出し
5. データモデル設計
6. 認証・セキュリティ
7. API設計
8. 画面設計
9. 非機能要件
10. スケジュール・開発フロー
11. リスク管理

まず、Phase 1から始めますね！
```

---

### ステップ2: 初期化モード選択

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Phase 1: プロジェクト初期化
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

プロジェクト設定をどのように決めますか？

【1. おすすめ設定（簡単・高速、4つの質問のみ）】
• バックエンド: FastAPI (Python)
• フロントエンド: Next.js (React)
• データベース: PostgreSQL
• 認証: JWT + OAuth (Google/GitHub)
• ホスティング: Vercel (フロント) + Render (バック)
• Serenaメモリ: Tier 2 (中規模プロジェクト)

【2. カスタム設定（詳細に選択、10項目以上）】
• すべての技術スタックを選択
• ポート番号、データベース認証情報なども設定
• 細かくカスタマイズしたい場合

どちらで進めますか？（1 / 2）
```

---

### ステップ3-A: おすすめ設定モード

ユーザーが「1」または「おすすめ」を選んだ場合、以下の4つだけ質問：

#### 質問1/4: プロジェクト名

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[1/4] プロジェクト名
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

英小文字・数字・ハイフン（-）のみ使用可能です。

例: my-awesome-app, todo-app, blog-platform

プロジェクト名:
```

**検証**: `^[a-z0-9-]+$` にマッチすること

#### 質問2/4: プロジェクト表示名

```
[2/4] プロジェクト表示名

人間が読みやすい名前（日本語OK）

例: My Awesome App, ToDoアプリ, ブログプラットフォーム

プロジェクト表示名:
```

#### 質問3/4: プロジェクト説明

```
[3/4] プロジェクト説明

どんなアプリケーションか1行で説明してください。

例: タスク管理を効率化するWebアプリ、技術ブログプラットフォーム

プロジェクト説明:
```

#### 質問4/4: GitHub Owner名

```
[4/4] GitHub Owner名

GitHubユーザー名（または組織名）を教えてください。

リポジトリURL: https://github.com/{この名前}/{プロジェクト名}

例: YourUsername, your-org

GitHub Owner名:
```

---

### ステップ3-B: カスタム設定モード

ユーザーが「2」または「カスタム」を選んだ場合、詳細に質問：

#### グループ1: プロジェクト基本情報（上記の4つ + GitHub設定）

#### グループ2: 技術スタック

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
技術スタック選択
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[1/3] バックエンドフレームワーク

1. FastAPI（Python） - 高速、型安全、API開発に最適
2. Django（Python） - 多機能、管理画面付き、大規模向け
3. Express（Node.js） - シンプル、TypeScript対応

選択: (1/2/3)
```

```
[2/3] フロントエンドフレームワーク

1. Next.js（React） - SSR、SEO対応、Vercel最適化
2. React - シンプル、学習リソース豊富
3. Vue.js - 学習しやすい、日本語ドキュメント充実

選択: (1/2/3)
```

```
[3/3] データベース

1. PostgreSQL - 高機能、JSON対応、スケーラブル（推奨）
2. MySQL - 人気、多くのホスティング対応
3. SQLite - 軽量、ローカル開発向け
4. その他 - MongoDB, Firebase等（手動設定必要）

選択: (1/2/3/4)
```

#### グループ3: ホスティング先

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ホスティング先選択
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[1/2] フロントエンドホスティング

1. Vercel - Next.js最適化、簡単、無料枠あり
2. Netlify - 静的サイト、JAMstack最適
3. AWS - 柔軟、本格運用向け
4. その他
5. 未定（後で決める）

選択: (1/2/3/4/5)
```

```
[2/2] バックエンドホスティング

1. Render - 簡単、Docker対応、無料枠あり
2. AWS - 柔軟、ECS/Lambda
3. GCP - Cloud Run推奨
4. Heroku - シンプル（有料化済み）
5. その他
6. 未定（後で決める）

選択: (1/2/3/4/5/6)
```

#### グループ4: ポート設定

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ポート設定
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

フロントエンドポート [デフォルト: 3000]:
バックエンドポート [デフォルト: 8000]:
```

#### グループ5: データベース認証情報

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
データベース認証情報（開発環境用）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️ 本番環境では必ず強固なパスワードを使用してください

データベース名 [デフォルト: {プロジェクト名}_db]:
データベースユーザー名 [デフォルト: dbuser]:
データベースパスワード [デフォルト: Dev!Pass123]:
```

#### グループ6: Serenaメモリ複雑度

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Serenaメモリ複雑度
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

プロジェクト規模に応じて選択してください。

1. Tier 1: 小規模（1-2週間、3ファイル）
2. Tier 2: 中規模（1-3ヶ月、6ファイル）← 推奨
3. Tier 3: 大規模（長期、7+ファイル）

選択: (1/2/3)
```

#### グループ7: テストユーザー設定

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
テストユーザー設定
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

E2Eテスト用のテストアカウント情報です。

テストユーザーメールアドレス [デフォルト: qa+test@example.com]:
テストユーザーパスワード [デフォルト: TestPass!123]:
```

#### グループ8: 認証方式

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
認証方式設定
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

OAuth認証（Google/GitHub）を有効にしますか？ (Y/n):
```

#### グループ9: MCPサーバー

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
MCPサーバー選択
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

以下は自動で有効化されます：
✅ context7 - プロジェクトコンテキスト管理
✅ github - GitHub API統合
✅ serena - プロジェクトメモリ管理

以下を有効にしますか？

playwright（E2Eテスト自動化） (Y/n):
desktop-commander（システムコマンド実行） (Y/n):
codex（コード検索・分析） (Y/n):
supabase（Supabase統合） (y/N):
```

---

### ステップ4: 設定確認

すべての質問が終わったら、設定をまとめて確認：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
設定確認
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【プロジェクト基本情報】
プロジェクト名: my-awesome-app
表示名: My Awesome App
説明: 素晴らしいWebアプリケーション
GitHub: YourUsername/my-awesome-app

【技術スタック】
バックエンド: FastAPI (Python)
フロントエンド: Next.js (React)
データベース: PostgreSQL
認証: JWT + OAuth (Google/GitHub)

【ホスティング】
フロントエンド: Vercel
バックエンド: Render

【その他】
ポート: 3000 (FE) / 8000 (BE)
Serenaメモリ: Tier 2（中規模）
テストユーザー: qa+test@example.com

【MCPサーバー】
✅ context7, github, serena, playwright, desktop-commander, codex
❌ supabase, ide

この設定でプロジェクトを生成しますか？（Y/n）
```

---

### ステップ5: プロジェクト生成

ユーザーが承認したら、以下を実行：

#### 5-1: 設定JSONファイル作成

```python
import json
from datetime import datetime
import secrets

config = {
    "PROJECT_NAME": "my-awesome-app",
    "PROJECT_DISPLAY_NAME": "My Awesome App",
    "PROJECT_DESCRIPTION": "素晴らしいWebアプリケーション",
    "GITHUB_OWNER": "YourUsername",
    "CURRENT_DATE": datetime.now().strftime('%Y-%m-%d'),

    "BACKEND_TECH": "FastAPI",
    "FRONTEND_TECH": "Next.js",
    "DATABASE_TYPE": "PostgreSQL",
    "DATABASE_IMAGE": "postgres:15-alpine",

    "DATABASE_NAME": "my_awesome_app_db",
    "DATABASE_USER": "dbuser",
    "DATABASE_PASSWORD": "Dev!Pass123",

    "FRONTEND_HOSTING": "Vercel",
    "BACKEND_HOSTING": "Render",

    "PORT_FRONTEND": "3000",
    "PORT_BACKEND": "8000",

    "SERENA_TIER": "tier2",

    "TEST_USER_EMAIL": "qa+test@example.com",
    "TEST_USER_PASSWORD": "TestPass!123",

    "USE_JWT": "true",
    "USE_OAUTH": "true",
    "OAUTH_ENABLED": "true",
    "OAUTH_ENV_VARS": "\n      - OAUTH_GOOGLE_CLIENT_ID=${OAUTH_GOOGLE_CLIENT_ID}\n      - OAUTH_GOOGLE_CLIENT_SECRET=${OAUTH_GOOGLE_CLIENT_SECRET}\n      - OAUTH_GITHUB_CLIENT_ID=${OAUTH_GITHUB_CLIENT_ID}\n      - OAUTH_GITHUB_CLIENT_SECRET=${OAUTH_GITHUB_CLIENT_SECRET}",
    "OAUTH_FRONTEND_ENV": "\n      - NEXT_PUBLIC_OAUTH_ENABLED=true",
    "OAUTH_INFO": " + OAuth（Google, GitHub）",

    "JWT_SECRET": secrets.token_urlsafe(32),

    "USE_CONTEXT7": "true",
    "USE_GITHUB": "true",
    "USE_SERENA": "true",
    "USE_PLAYWRIGHT": "true",
    "USE_DESKTOP_COMMANDER": "true",
    "USE_CODEX": "true",
    "USE_SUPABASE": "false",
    "USE_IDE": "false",

    # Docker設定
    "DATABASE_VOLUME_NAME": "postgres_data",
    "DATABASE_VOLUME_PATH": "/var/lib/postgresql/data",
    "DATABASE_ENV_VARS": f"\n      - POSTGRES_DB=my_awesome_app_db\n      - POSTGRES_USER=dbuser\n      - POSTGRES_PASSWORD=Dev!Pass123",
    "DATABASE_URL": "postgresql://dbuser:Dev!Pass123@db:5432/my_awesome_app_db",
    "BACKEND_COMMAND": "uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload",
    "FRONTEND_COMMAND": "npm run dev",

    # API key プレースホルダー
    "CONTEXT7_API_KEY": "YOUR_CONTEXT7_API_KEY",
    "GITHUB_TOKEN": "YOUR_GITHUB_TOKEN",
    "SUPABASE_PROJECT_REF": "YOUR_SUPABASE_PROJECT_REF"
}

# JSONファイルに書き出し
with open("project_config.json", "w", encoding="utf-8") as f:
    json.dump(config, f, indent=2, ensure_ascii=False)

print("✅ project_config.json を作成しました")
```

#### 5-2: init_project.py --auto 実行

```bash
python init_project.py --auto --config project_config.json
```

#### 5-3: 完了通知

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎉 プロジェクト生成完了！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【生成先】
../my-awesome-app/

【次のステップ】
Phase 1（初期化）が完了しました！

次は Phase 2（要件定義）に進みます。
プロジェクトの詳細な機能仕様を決めていきましょう。

準備ができたら「続けてください」と入力してください。
```

---

## Phase 2: 要件定義（20-40分）

プロジェクト生成後、要件定義を進めます。

### ステップ0: リファレンス資料確認

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Phase 2: 要件定義
ステップ0/10: リファレンス資料確認
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

プロジェクトに関する既存資料を確認します。

reference/ フォルダを確認中...
```

**AIの処理**:
1. `../my-awesome-app/reference/` 内のファイル一覧取得
2. テキストファイルを読み込み・要約
3. 画像ファイルを表示
4. ユーザーに確認

```
✅ reference/ フォルダの内容:

【打合せ議事録】
- meetings/2025-10-01_kickoff.md
[内容要約...]

【既存仕様書】
- (なし)

【デザイン資料】
- design/wireframe_login.png
[画像表示...]

これらの資料から反映すべき要件はありますか？
（自由記述でお願いします。なければ「なし」と入力）
```

---

### ステップ1: プロジェクト背景・目的

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ステップ1/10: プロジェクト背景・目的
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

このプロジェクトで解決したい課題を教えてください：

1. どんな課題を解決したいですか？
   （例: チームのタスク管理が非効率、情報共有が困難）

2. 現在はどう対応していますか？
   （例: スプレッドシート、メール、手作業）

3. このシステムで何を改善したいですか？
   （例: リアルタイム更新、自動化、可視化）

（自由記述でお願いします）
```

---

### ステップ2: ユーザー・ステークホルダー

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ステップ2/10: ユーザー・ステークホルダー
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

誰がこのシステムを使いますか？

1. メインユーザー
   - 役割は？（例: チームメンバー、顧客、管理者）
   - 人数は？（初期想定と1年後想定）
   - ITリテラシーは？（高/中/低）

2. 管理者は必要ですか？
   - 必要な場合、どんな権限が必要？

3. 外部システム連携は必要ですか？
   （例: Slack通知、メール送信、決済システム）

（自由記述でお願いします）
```

---

### ステップ3: 主要機能の洗い出し

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ステップ3/10: 主要機能の洗い出し
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

どんな機能が必要ですか？思いつく限り挙げてください。

例:
- ユーザー登録・ログイン
- タスク作成・編集・削除
- コメント機能
- ファイルアップロード
- 通知機能
- レポート出力
- 検索機能
- その他...

（複数行で箇条書きで書いてください）
```

**AIの処理**: ユーザーの回答を受け取ったら、Phaseに分けて提案：

```
✅ 以下の機能を挙げていただきました：
[リスト表示]

これらをPhaseに分けて提案します：

【Phase 1: MVP（最小限、2-4週間）】
- ユーザー認証（JWT）
- 基本CRUD機能（作成・読取・更新・削除）
- 最低限の画面（一覧・詳細）

【Phase 2: 拡張機能（4-8週間）】
- コメント・通知機能
- 検索・フィルター機能
- ファイルアップロード

【Phase 3: 最適化・分析（4-8週間）】
- レポート機能
- パフォーマンス改善
- UI/UX改善

この分け方で問題ありませんか？
変更したい箇所があれば教えてください。
```

---

### ステップ4: データモデル設計

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ステップ4/10: データモデル設計
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

どんなデータを扱いますか？

主要なエンティティ（データの塊）と属性を挙げてください。

例:
- ユーザー（User）
  - メールアドレス、パスワード、名前
- タスク（Task）
  - タイトル、説明、ステータス、担当者
- コメント（Comment）
  - タスクに紐づく、投稿者、内容

エンティティ名と主要な属性を教えてください。
（自由記述でお願いします）
```

**AIの処理**: ER図（テキスト形式）を提案：

```
✅ 以下のデータモデルを提案します：

User（ユーザー）
├─ id: UUID（主キー）
├─ email: string（ユニーク）
├─ password_hash: string
├─ name: string
└─ created_at: timestamp

Task（タスク）
├─ id: UUID（主キー）
├─ title: string
├─ description: text
├─ status: enum (TODO/IN_PROGRESS/DONE)
├─ assignee_id: UUID（FK → User）
├─ created_by: UUID（FK → User）
├─ created_at: timestamp
└─ updated_at: timestamp

Comment（コメント）
├─ id: UUID（主キー）
├─ task_id: UUID（FK → Task）
├─ user_id: UUID（FK → User）
├─ content: text
└─ created_at: timestamp

関連:
- User ←1:N→ Task（作成者）
- User ←1:N→ Task（担当者）
- Task ←1:N→ Comment
- User ←1:N→ Comment

この設計で問題ありませんか？
修正があれば教えてください。
```

---

### ステップ5: 認証・セキュリティ

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ステップ5/10: 認証・セキュリティ
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

セキュリティ要件について教えてください：

1. パスワードリセット機能は必要ですか？ (Y/n):
2. 二段階認証は必要ですか？ (y/N):
3. セッション有効期限はどのくらいが良いですか？
   （例: 1時間、1日、7日、30日）:

（回答をお願いします）
```

---

### ステップ6: API設計

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ステップ6/10: API設計
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

API設計について：

REST API / GraphQL どちらが良いですか？
（特にこだわりがなければREST推奨）

選択: (REST / GraphQL)
```

**AIの処理**: データモデルから自動でエンドポイントを提案：

```
✅ 以下のAPIエンドポイントを提案します：

【認証】
POST   /api/auth/register       # ユーザー登録
POST   /api/auth/login          # ログイン
POST   /api/auth/logout         # ログアウト
POST   /api/auth/refresh        # トークン更新

【タスク】
GET    /api/tasks               # タスク一覧取得
POST   /api/tasks               # タスク作成
GET    /api/tasks/:id           # タスク詳細取得
PUT    /api/tasks/:id           # タスク更新
DELETE /api/tasks/:id           # タスク削除

【コメント】
POST   /api/tasks/:id/comments  # コメント追加
GET    /api/tasks/:id/comments  # コメント一覧

この設計で問題ありませんか？
追加したいエンドポイントがあれば教えてください。
```

---

### ステップ7: 画面設計

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ステップ7/10: 画面設計
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

どんな画面が必要ですか？

主要画面を教えてください：
1. [例] ログイン画面
2. [例] ダッシュボード
3. [例] タスク一覧（カンバンボード）
4. [例] タスク詳細
5. その他...

（箇条書きで挙げてください）
```

**AIの処理**: 画面遷移図をテキストで提案

---

### ステップ8: 非機能要件

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ステップ8/10: 非機能要件
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

性能・可用性について教えてください：

1. 想定ユーザー数
   - 初期: [例: 10名]
   - 1年後: [例: 100名]

2. レスポンスタイム目標
   - ページ読み込み: [例: 3秒以内]
   - API応答: [例: 1秒以内]

3. 稼働率目標
   - [例: 95%以上、99%以上、ベストエフォート]

4. バックアップ戦略
   - 必要？ (Y/n):
   - 頻度は？ [例: 毎日、毎週]

（回答をお願いします）
```

---

### ステップ9: スケジュール・開発フロー

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ステップ9/10: スケジュール・開発フロー
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

開発スケジュールを決めましょう：

1. Phase 1（MVP）完了希望日: [例: 2025-11-01]
2. Phase 2（拡張）完了希望日: [例: 2025-12-01]
3. Phase 3（最適化）完了希望日: [例: 2026-01-31]

4. チーム構成
   - 開発者: [例: 1名（自分のみ）、2-3名]
   - レビュアー: [例: なし、あり]

5. 開発フロー
   A. シンプル（main直接コミット）
   B. 標準（feature → main、PR・レビュー）
   C. 厳格（feature → develop → staging → main、複数レビュー）

選択: (A/B/C)

（回答をお願いします）
```

**AIの処理**: スケジュールとワークフローを提案：

```
✅ 以下のスケジュールと開発フローを提案します：

【スケジュール】

Phase 1: MVP（2025-10-09 ~ 2025-11-01、3週間）
├─ Week 1: 認証・データモデル実装
├─ Week 2: API・画面実装
└─ Week 3: E2Eテスト・デプロイ

Phase 2: 拡張機能（2025-11-02 ~ 2025-12-01、4週間）
├─ Week 4-5: コメント・通知機能
└─ Week 6-7: 検索・ファイルアップロード

Phase 3: 最適化（2025-12-02 ~ 2026-01-31、8週間）
├─ Week 8-11: レポート機能・パフォーマンス改善
└─ Week 12-15: UI/UX改善・バグ修正

【開発フロー】

1. 新機能実装
   ├─ feature/〇〇 ブランチ作成
   ├─ コーディング
   ├─ E2Eテスト（e2e-testerサブエージェント）
   ├─ PR作成
   ├─ コードレビュー（code-reviewerサブエージェント）
   ├─ 修正・マージ
   └─ ドキュメント更新（docs-updaterサブエージェント）

2. デプロイ
   ├─ main → 自動デプロイ（Vercel/Render）
   └─ スモークテスト

この計画で問題ありませんか？
```

---

### ステップ10: リスク管理

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ステップ10/10: リスク管理
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

懸念事項はありますか？

例:
- 技術的な不安（使ったことない技術スタック）
- 期限の厳しさ
- 予算制約
- チームリソース不足
- その他の懸念

（思いつく限り挙げてください。なければ「なし」）
```

**AIの処理**: 想定リスクと対策を提案

---

## 最終ステップ: ドキュメント生成

全10ステップ完了後、以下を実施：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
全10ステップ完了！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

回答を整理して以下のドキュメントを生成します：

1. ai-rules/my-awesome-app/REQUIREMENTS.md（詳細版、AI用）
2. docs/REQUIREMENTS.md（簡潔版、人間用）
3. .serena/memories/project_overview.md（更新）
4. .serena/memories/current_issues_and_priorities.md（更新）

生成を開始しますか？ (Y/n):
```

ユーザーが承認したら、各ドキュメントを生成。

---

## 完了通知

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎉 プロジェクト初期化 & 要件定義完了！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 以下のドキュメントを生成しました：

1. ai-rules/my-awesome-app/REQUIREMENTS.md（3500行）
2. docs/REQUIREMENTS.md（80行）
3. .serena/memories/project_overview.md（更新済み）
4. .serena/memories/current_issues_and_priorities.md（更新済み）

【次のステップ】

1. 新規プロジェクトディレクトリに移動
   cd ../my-awesome-app

2. APIキー設定（必須）
   .mcp.jsonを編集:
   • CONTEXT7_API_KEY
   • GITHUB_TOKEN

3. 環境変数設定
   • backend/.env.example → backend/.env
   • frontend/.env.example → frontend/.env.local

4. Docker起動
   docker-compose up -d

5. アクセス確認
   • フロントエンド: http://localhost:3000
   • バックエンドAPI: http://localhost:8000
   • API ドキュメント: http://localhost:8000/docs

6. Phase 1開発開始！
   current_issues_and_priorities.md に記載されたタスクから着手

Happy Coding! 🚀
```

---

## ✅ 完了条件

以下がすべて完了したら、このプロンプトは完了です：

- [ ] Phase 1: プロジェクト初期化完了
- [ ] Phase 2: 全10ステップの要件定義完了
- [ ] REQUIREMENTS.md生成完了（AI用・人間用）
- [ ] Serenaメモリ更新完了
- [ ] ユーザー確認完了

---

**バージョン**: 2.0
**作成日**: 2025-10-09
**対応AI**: Claude Code, Codex
